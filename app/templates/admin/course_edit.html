{% extends "admin/base.html" %}

{% block title %}Edit course{% endblock title %}

{% block scripts %}
    <link rel="stylesheet" type="text/css" href="/assets/js/markitup/skins/markitup/style.css" />
    <link rel="stylesheet" type="text/css" href="/assets/js/markitup/sets/markdown/style.css" />

    <script type="text/javascript" src="/assets/js/markitup/jquery.markitup.js"></script>
    <script type="text/javascript" src="/assets/js/markitup/sets/markdown/set.js"></script>

    <script type="text/javascript" src="/assets/js/admin/slugify.js"></script>

    <script language="javascript">
        $(document).ready(function()	{
            $('#markdown').markItUp(mySettings);
        });
    </script>
{% endblock scripts %}

{% block main_content %}
<div class="main">
    <!-- Breadcrumb -->
    <div class="row">
        <div class="col-lg-12">
            <ol class="breadcrumb">
                <li>
                    <i class="fa fa-institution"></i>  <a href="/admin/courses">Courses</a>
                </li>
                <li class="active">
                    <i class="fa fa-table"></i>  <a href="/admin/course/{{course.get_id}}">{{ course.title }}</a>
                </li>
                <li class="active">
                    <i class="fa fa-plus-square-o"></i> Edit course
                </li>
            </ol>

            <h1 class="page-header">
                Edit {{ course.title }}
            </h1>
        </div>
    </div>
    <!-- Breadcrumb end -->

    <div class="row">
        <div class="col-lg-7">
            <form action="/admin/course/{{course.get_id}}/edit" method="post">
                <div class="form-group">
                    <label>Type</label>
                    <select class="form-control" name="course-type" id="courseType">
                        <option value="{{course.course_type}}" selected>{{ selected_course_type.title }}</option>
                        <option disabled>------------------------------</option>
                        {% for ctype in course_types %}
                            <option value="{{ ctype.get_id }}">{{ ctype.title }}</option>
                        {% endfor %}
                    </select>
                </div>

                <div class="form-group">
                    <label>Main instructor</label>
                    <select class="form-control" name="instructor" id="courseInstructor">
                        <option value="{{course.instructor}}|{{ course.instructor_name }}" selected>{{ course.instructor_name }}</option>
                        <option disabled>------------------------------</option>
                        {% for instructor in instructors %}
                            <option value="{{ instructor.get_id }}|{{ instructor.get_full_name }}">{{ instructor.get_full_name }}</option>
                        {% endfor %}
                    </select>
                </div>

                <div class="form-group">
                    <label>Category (like Programming, Graphic design etc.)</label>
                    <input type="text" class="form-control" value="{{course.category}}" placeholder="Category" name="category" id="courseCategory">
                </div>

                <div class="form-group">
                    <label>Title</label>
                    <input type="text" class="form-control" value="{{course.title}}" placeholder="Title" name="title" id="courseTitle">
                </div>

                <div class="form-group">
                    <label>City</label>
                    <input type="text" class="form-control" value="{{course.city}}" placeholder="City" name="city" id="courseCity">
                </div>

                <div class="form-group">
                    <label>Place</label>
                    <input type="text" class="form-control" value="{{course.place}}" placeholder="Place" name="place" id="coursePlace">
                </div>

                <div class="form-group">
                    <label>Number of spots available</label>
                    <input type="text" class="form-control" value="{{course.spots}}" placeholder="Spots" name="spots" id="courseSpots">
                </div>

                <div class="form-group">
                    <label>Start date</label>
                    <input type="date" class="form-control" value="{{course.start_date}}" name="start-date" id="courseStartDate">
                </div>

                <div class="form-group">
                    <label>End date</label>
                    <input type="date" class="form-control" value="{{course.end_date}}" name="end-date" id="courseEndDate">
                </div>

                <div class="form-group">
                    <label>Price(s)</label>
                    <p><small>Separate multiple prices with a comma, like this: 97.00, 147.00, 197.00 (Use dot for a decimal number!!!)</small></p>
                    <input type="text" class="form-control" value="{{course_price}}" placeholder="Price(s)" name="price" id="coursePrice">
                </div>

                <div class="form-group">
                    <label>Currency</label>
                    <select class="form-control" name="currency" id="courseCurrency">
                        <option value="{{course.currency}}" selected>{{course.currency}}</option>
                        <option disabled>------</option>
                        <option value="EUR">EUR</option>
                    </select>
                </div>

                <div class="form-group">
                    <label>Summary (short description, up to 120 chars)</label>
                    <input type="text" class="form-control" value="{{course.summary}}" placeholder="Summary" name="summary" id="courseSummary">
                </div>

                <div class="form-group">
                    <label>Description</label>
                    <p>See <a href="https://github.com/adam-p/markdown-here/wiki/Markdown-Cheatsheet" target="_blank">Markdown CheatSheet</a></p>
                    <textarea class="form-control" style="height: 300px;" name="description" id="markdown">{{course.description}}</textarea>
                </div>

                <button type="submit" class="btn btn-success">Submit</button>
            </form>
        </div>
    </div>

    <br>
</div>
{% endblock main_content %}