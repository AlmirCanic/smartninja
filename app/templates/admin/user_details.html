{% extends "admin/base.html" %}

{% block title %}{{ this_user.get_full_name }}{% endblock title %}

{% block main_content %}
<div class="main">
    <!-- Breadcrumb -->
    <div class="row">
        <div class="col-lg-12">
            <ol class="breadcrumb">
                <li>
                    <i class="fa fa-users"></i>  <a href="/admin/users">Users</a>
                </li>
                <li class="active">
                    <i class="fa fa-table"></i> User details
                </li>
            </ol>

            <h1 class="page-header">
                {{ this_user.get_full_name }}
            </h1>
        </div>
    </div>
    <!-- Breadcrumb end -->
    
    <img src="{{this_user.photo_url}}" class="img-thumbnail" width="200px">
    <br>
    <br>
    <p>Email: {{ this_user.email }}</p>
    <p>Phone Number : {{ this_user.phone_number }}</p>
    <p>Address: {{ this_user.address }}</p>
    <p>GitHub: <a href="{{ this_user.github_url }}" target="_blank">{{ this_user.github_url }}</a></p>
    <p>Date of birth: {{ this_user.dob }}</p>
    <p>Summary: {{ this_user.summary }}</p>

    <hr>

    <h3>Grades</h3>
    <p>Score: {{ this_user.grade_avg_score }}</p>
    <p>Tags: {{ this_user.grade_all_tags }}</p>
    <br>

    {% if not admin %}
        <a href="/admin/user/{{this_user.get_id}}/edit"><button class="btn btn-success">Edit user</button></a>
        <a href="/admin/user/{{this_user.get_id}}/delete"><button class="btn btn-danger">Delete user</button></a>
    {% else %}
        {% if user.email() == this_user.email %}
            <a href="/admin/user/{{this_user.get_id}}/edit"><button class="btn btn-success">Edit your profile</button></a>
        {% endif %}
    {% endif %}
</div>
{% endblock main_content %}